<!doctype html><html lang=en><!-- Online page at https://ziglang.org/documentation/0.10.0/std/#root;os.copy_file_range --><head> <meta charset=utf-8> <meta name=viewport content="width=device-width,initial-scale=1"> <title>copy_file_range</title> <link href=../../style.css rel=stylesheet></head> <body class=canvas> <div class=banner> This is a beta autodoc build; expect bugs and missing information.</div> <div class=flex-main> <div id=docs class=flex-right> <div class=wrap> <section class=docs> <div style=position:relative> </div> <div id=sectNav class=""><ul id=listNav><li><a href=../../std.html class="">std</a></li><li><a href=../../std/os.html class="">os</a></li><li><a href=copy_file_range.html class=active>copy_file_range</a></li></ul></div> <div id=fnProto class=""> <div class=mobile-scroll-container><pre id=fnProtoCode class=scroll-item><a target=_blank href=https://ziglang.org/documentation/0.10.0/std/src/os.zig.html#L6346>copy_file_range</a>(<span class=argBreaker><br>&nbsp;&nbsp;&nbsp;&nbsp;</span>fd_in: <a href=""><span class=tok-kw style=color:#add8e6>fd_t</span></a>, <span class=argBreaker><br>&nbsp;&nbsp;&nbsp;&nbsp;</span>off_in: <span class=tok-kw>u64</span>, <span class=argBreaker><br>&nbsp;&nbsp;&nbsp;&nbsp;</span>fd_out: <a href=""><span class=tok-kw style=color:#add8e6>fd_t</span></a>, <span class=argBreaker><br>&nbsp;&nbsp;&nbsp;&nbsp;</span>off_out: <span class=tok-kw>u64</span>, <span class=argBreaker><br>&nbsp;&nbsp;&nbsp;&nbsp;</span>len: <span class=tok-kw>usize</span>, <span class=argBreaker><br>&nbsp;&nbsp;&nbsp;&nbsp;</span>flags: <span class=tok-kw>u32</span><span class=argBreaker>,<br></span>) CopyFileRangeError!<span class=tok-type>usize</span></pre></div> </div> <div id=tldDocs class=""><p> Transfer data between file descriptors at specified offsets. Returns the number of bytes written, which can less than requested. </p> <p> The <code>copy_file_range</code> call copies <code>len</code> bytes from one file descriptor to another. When possible, this is done within the operating system kernel, which can provide better performance characteristics than transferring data from kernel to user space and back, such as with <code>pread</code> and <code>pwrite</code> calls. </p> <p> <code>fd_in</code> must be a file descriptor opened for reading, and <code>fd_out</code> must be a file descriptor opened for writing. They may be any kind of file descriptor; however, if <code>fd_in</code> is not a regular file system file, it may cause this function to fall back to calling <code>pread</code> and <code>pwrite</code>, in which case atomicity guarantees no longer apply. </p> <p> If <code>fd_in</code> and <code>fd_out</code> are the same, source and target ranges must not overlap. The file descriptor seek positions are ignored and not updated. When <code>off_in</code> is past the end of the input file, it successfully reads 0 bytes. </p> <p> <code>flags</code> has different meanings per operating system; refer to the respective man pages. </p> <p> These systems support in-kernel data copying: <em> Linux 4.5 (cross-filesystem 5.3)</em> </p> <p> Other systems fall back to calling <code>pread</code> / <code>pwrite</code>. </p> <p> Maximum offsets on Linux are <code>math.maxInt(i64)</code>. </p> </div> <div id=sectParams class=""> <a name=//apple_ref/cpp/Section/Parameters class=dashAnchor></a><h2>Parameters</h2> <div id=listParams><div><pre>fd_in: <span class=tok-kw>fd_t</span>,</pre></div><div><pre>off_in: <span class=tok-kw>u64</span>,</pre></div><div><pre>fd_out: <span class=tok-kw>fd_t</span>,</pre></div><div><pre>off_out: <span class=tok-kw>u64</span>,</pre></div><div><pre>len: <span class=tok-kw>usize</span>,</pre></div><div><pre>flags: <span class=tok-kw>u32</span>,</pre></div></div> </div> </section> </div> <div class=flex-filler></div> </div> </div> </body></html>