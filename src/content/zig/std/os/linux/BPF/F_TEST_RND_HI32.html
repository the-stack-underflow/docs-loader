<!doctype html><html lang=en><!-- Online page at https://ziglang.org/documentation/0.10.0/std/#root;os.linux.BPF.F_TEST_RND_HI32 --><head> <meta charset=utf-8> <meta name=viewport content="width=device-width,initial-scale=1"> <title>F_TEST_RND_HI32</title> <link href=../../../../style.css rel=stylesheet></head> <body class=canvas> <div class=banner> This is a beta autodoc build; expect bugs and missing information.</div> <div class=flex-main> <div id=docs class=flex-right> <div class=wrap> <section class=docs> <div style=position:relative> </div> <div id=sectNav class=""><ul id=listNav><li><a href=../../../../std.html class="">std</a></li><li><a href=../../../../std/os.html class="">os</a></li><li><a href=../../../../std/os/linux.html class="">linux</a></li><li><a href=../../../../std/os/linux/BPF.html class="">BPF</a></li><li><a href=F_TEST_RND_HI32.html class=active>F_TEST_RND_HI32</a></li></ul></div> <div id=fnProto class=""> <div class=mobile-scroll-container><pre id=fnProtoCode class=scroll-item><span class=tok-kw>const</span> F_TEST_RND_HI32: <span class=tok-type>comptime_int</span> = 4;</pre></div> </div> <div id=tldDocs class=""><p> BPF_F_TEST_RND_HI32 is used in BPF_PROG_LOAD command for testing purpose. Verifier does sub-register def/use analysis and identifies instructions whose def only matters for low 32-bit, high 32-bit is never referenced later through implicit zero extension. Therefore verifier notifies JIT back-ends that it is safe to ignore clearing high 32-bit for these instructions. This saves some back-ends a lot of code-gen. However such optimization is not necessary on some arches, for example x86_64, arm64 etc, whose JIT back-ends hence hasn't used verifier's analysis result. But, we really want to have a way to be able to verify the correctness of the described optimization on x86_64 on which testsuites are frequently exercised. </p> <p> So, this flag is introduced. Once it is set, verifier will randomize high 32-bit for those instructions who has been identified as safe to ignore them. Then, if verifier is not doing correct analysis, such randomization will regress tests to expose bugs. </p> </div> </section> </div> <div class=flex-filler></div> </div> </div> </body></html>