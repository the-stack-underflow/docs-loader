<!doctype html><html lang=en><!-- Online page at https://ziglang.org/documentation/0.10.0/std/#root;event.RwLock --><head> <meta charset=utf-8> <meta name=viewport content="width=device-width,initial-scale=1"> <title>RwLock</title> <link href=../../style.css rel=stylesheet></head> <body class=canvas> <div class=banner> This is a beta autodoc build; expect bugs and missing information.</div> <div class=flex-main> <div id=docs class=flex-right> <div class=wrap> <section class=docs> <div style=position:relative> </div> <div id=sectNav class=""><ul id=listNav><li><a href=../../std.html class="">std</a></li><li><a href=../../std/event.html class="">event</a></li><li><a href=RwLock.html class=active>RwLock</a></li></ul></div> <div id=tldDocs class=""><p> Thread-safe async/await lock. Functions which are waiting for the lock are suspended, and are resumed when the lock is released, in order. Many readers can hold the lock at the same time; however locking for writing is exclusive. When a read lock is held, it will not be released until the reader queue is empty. When a write lock is held, it will not be released until the writer queue is empty. TODO: make this API also work in blocking I/O mode </p> </div> <div id=sectFields class=""> <a name=//apple_ref/cpp/Section/Fields class=dashAnchor></a><h2>Fields</h2> <div id=listFields><div><div class=mobile-scroll-container><pre class=scroll-item>shared_state: <span class=tok-kw>State</span>,</pre></div></div><div><div class=mobile-scroll-container><pre class=scroll-item>writer_queue: <span class=tok-kw>Queue</span>,</pre></div></div><div><div class=mobile-scroll-container><pre class=scroll-item>reader_queue: <span class=tok-kw>Queue</span>,</pre></div></div><div><div class=mobile-scroll-container><pre class=scroll-item>writer_queue_empty: <span class=tok-kw>bool</span>,</pre></div></div><div><div class=mobile-scroll-container><pre class=scroll-item>reader_queue_empty: <span class=tok-kw>bool</span>,</pre></div></div><div><div class=mobile-scroll-container><pre class=scroll-item>reader_lock_count: <span class=tok-kw>usize</span>,</pre></div></div></div> </div> <div id=sectTypes class=""> <a name=//apple_ref/cpp/Section/Types class=dashAnchor></a><h2>Types</h2> <ul id=listTypes><li><a href=RwLock/HeldRead.html>HeldRead</a></li><li><a href=RwLock/HeldWrite.html>HeldWrite</a></li></ul> </div> <div id=sectFns class=""> <a name=//apple_ref/cpp/Section/Functions class=dashAnchor></a><h2>Functions</h2> <div class=table-container> <dl id=listFns><div><a name=//apple_ref/cpp/Function/acquireRead class=dashAnchor></a><dt><div class=fnSignature><span class=tok-kw>fn</span> <span class=tok-fn><a href=RwLock/acquireRead.html>acquireRead</a></span>(<span class=argBreaker><br>&nbsp;&nbsp;&nbsp;&nbsp;</span>self: <span class=tok-kw>*RwLock</span><span class=argBreaker>,<br></span>) callconv(.undefined) HeldRead</div><div><a style=float:right target=_blank href=https://ziglang.org/documentation/0.10.0/std/src/event/rwlock.zig.html#L101>[src]</a></div></dt><dd></dd></div><div><a name=//apple_ref/cpp/Function/acquireWrite class=dashAnchor></a><dt><div class=fnSignature><span class=tok-kw>fn</span> <span class=tok-fn><a href=RwLock/acquireWrite.html>acquireWrite</a></span>(<span class=argBreaker><br>&nbsp;&nbsp;&nbsp;&nbsp;</span>self: <span class=tok-kw>*RwLock</span><span class=argBreaker>,<br></span>) callconv(.undefined) HeldWrite</div><div><a style=float:right target=_blank href=https://ziglang.org/documentation/0.10.0/std/src/event/rwlock.zig.html#L134>[src]</a></div></dt><dd></dd></div><div><a name=//apple_ref/cpp/Function/deinit class=dashAnchor></a><dt><div class=fnSignature><span class=tok-kw>fn</span> <span class=tok-fn><a href=RwLock/deinit.html>deinit</a></span>(<span class=argBreaker><br>&nbsp;&nbsp;&nbsp;&nbsp;</span>self: <span class=tok-kw>*RwLock</span><span class=argBreaker>,<br></span>) <span class=tok-type>void</span></div><div><a style=float:right target=_blank href=https://ziglang.org/documentation/0.10.0/std/src/event/rwlock.zig.html#L95>[src]</a></div></dt><dd><p> Must be called when not locked. Not thread safe. All calls to acquire() and rel... </p> </dd></div><div><a name=//apple_ref/cpp/Function/init class=dashAnchor></a><dt><div class=fnSignature><span class=tok-kw>fn</span> <span class=tok-fn><a href=RwLock/init.html>init</a></span>(<span class=argBreaker>,<br></span>) RwLock</div><div><a style=float:right target=_blank href=https://ziglang.org/documentation/0.10.0/std/src/event/rwlock.zig.html#L82>[src]</a></div></dt><dd></dd></div></dl> </div> </div> </section> </div> <div class=flex-filler></div> </div> </div> </body></html>